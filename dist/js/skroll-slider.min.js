let sliders=document.getElementsByClassName("skroll-slider");for(var sliderObjects=[],i=0;i<sliders.length;i++){var el=sliders[i],num=el.children.length,imgElements=el.querySelectorAll("img"),slides=el.children,imgUrls=Array.from(el.querySelectorAll("img")).map(function(e,s){return e.src}),slideText={};for(let e=0;e<slides.length;e++)slideText[e]=slides[e].querySelectorAll("*:not(img)");for(;el.firstChild;)el.removeChild(el.firstChild);sliderObjects[i]={slider:el,img:imgElements,slideText:slideText,imgUrls:imgUrls,settings:{num:num,zoom:!0,animateText:!0,paused:!1,slideIndex:0,duration:5e3,transition:"pan"}};var settings=JSON.parse(el.dataset.skroll);for(const e of Object.keys(settings))sliderObjects[i].settings[e]=settings[e];sliderConstruct(sliderObjects[i])}function sliderConstruct(e){e.slider.classList.add(e.settings.zoom?"zoom":null,e.settings.animateText?"animate-text":null,e.settings.transition);var s=document.createDocumentFragment(),t=document.createElement("DIV");t.setAttribute("class","arrows");var n=document.createElement("DIV");n.setAttribute("class","slide-arrow left-arrow");var d=document.createElement("DIV");d.setAttribute("class","slide-arrow right-arrow"),t.appendChild(n),t.appendChild(d),s.prepend(t),e.arrows=[n,d];var l=document.createElement("DIV");e.slides=l,l.classList.add("slides"),"pan"===e.settings.transition&&(l.style.width=e.settings.num+"00%"),"pan"===e.settings.transition&&(l.style.width=e.settings.num+"00%");var r={slide:null,slideWrap:null};for(let s=0;s<e.settings.num;s++){r.slideWrap=document.createElement("DIV"),0===s?r.slideWrap.classList.add("slide-wrap","current-slide"):r.slideWrap.classList.add("slide-wrap"),r.slide=document.createElement("DIV"),r.slide.classList.add("slide"),r.slide.style.backgroundImage="url("+e.imgUrls[s]+")";for(let t=0;t<Object.keys(e.slideText[s]).length;t++)r.slide.appendChild(e.slideText[s][t]);r.slideWrap.appendChild(r.slide),l.appendChild(r.slideWrap)}s.appendChild(l),e.indicators={};var a=document.createElement("DIV");a.setAttribute("class","indicators");for(let t=0;t<e.settings.num;t++){var c=document.createElement("SPAN");0===t?c.setAttribute("class","slide-indicator current-indicator"):c.setAttribute("class","slide-indicator"),c.setAttribute("data-slide",t),a.appendChild(c),s.appendChild(a),e.indicators[t]=c}e.slider.appendChild(s),setBindings(e),autoSlide(sliderObjects[i])}function setBindings(e){for(var s=0;s<e.arrows.length;s++)e.arrows[s].addEventListener("click",function(s){if(e.prevSlideIndex=e.settings.slideIndex,s.target.classList.contains("left-arrow"))var t=e.settings.slideIndex-1;else if(s.target.classList.contains("right-arrow"))t=e.settings.slideIndex+1;updateIndex(e,t),clearTimeouts(e),e.settings.paused=!0,sliderChange(e)});for(s=0;s<e.settings.num;s++)e.indicators[s].addEventListener("click",function(s){clearTimeouts(e),updateIndex(e,Number(s.target.dataset.slide)),e.settings.paused=!0,!1===s.target.classList.contains("current-indicator")&&sliderChange(e)})}function sliderChange(e){if(e.prev=e.slider.getElementsByClassName("current-slide")[0],e.settings.slideIndex<0?(e.settings.slideIndex=e.settings.num-1,e.settings.num&&e.indicators[0].parentElement.classList.add("transition-last"),setTimeout(function(){e.settings.num&&e.indicators[0].parentElement.classList.remove("transition-last")},1e3)):e.settings.slideIndex>e.settings.num-1&&(e.settings.slideIndex=0,e.settings.num&&e.indicators[0].parentElement.classList.add("transition-first"),setTimeout(function(){e.settings.num&&e.indicators[0].parentElement.classList.remove("transition-first")},1e3)),e.settings.num>1){e.slider.classList.remove("forwards","backwards");for(var s=0;s<e.settings.num;s++)e.slides.children[s].classList.remove("current-slide","prev-slide","next-slide"),e.settings.num&&e.indicators[s].classList.remove("current-indicator");e.prevSlideIndex<e.settings.slideIndex?e.slider.classList.add("forwards"):e.slider.classList.add("backwards"),e.slider.classList.add("animating"),e.prev.classList.add("prev-slide"),e.settings.slideIndex===e.settings.num-1?e.slides.children[0].classList.add("next-slide"):e.slides.children[e.settings.slideIndex+1]&&e.slides.children[e.settings.slideIndex+1].classList.add("next-slide"),e.slides.children[e.settings.slideIndex].classList.add("current-slide"),e.settings.num&&e.indicators[e.settings.slideIndex].classList.add("current-indicator"),"pan"===e.settings.transition&&(e.slider.children[1].style.transform="translateX(-"+e.settings.slideIndex/e.settings.num*100+"00%)"),e.intervalPrevAnim=setTimeout(function(){e.slider.classList.remove("animating")},1500),!1===e.settings.paused&&autoSlide(e)}}function updateIndex(e,s){e.prevSlideIndex=e.settings.slideIndex,e.settings.slideIndex=s}function autoSlide(e){e.intervalSlideChange=setTimeout(function(){var s=e.settings.slideIndex+1;updateIndex(e,s),sliderChange(e)},e.settings.duration)}function clearTimeouts(e){clearTimeout(e.intervalSlideChange),clearTimeout(e.intervalPrevAnim);for(var s=0;s<e.settings.num;s++)e.slider.classList.remove("animating")}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNrcm9sbC1zbGlkZXIuanMiXSwibmFtZXMiOlsic2xpZGVycyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNsaWRlck9iamVjdHMiLCJpIiwibGVuZ3RoIiwiZWwiLCJudW0iLCJjaGlsZHJlbiIsImltZ0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsInNsaWRlcyIsImltZ1VybHMiLCJBcnJheSIsImZyb20iLCJtYXAiLCJlIiwic3JjIiwic2xpZGVUZXh0IiwibiIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInNsaWRlciIsImltZyIsInNldHRpbmdzIiwiem9vbSIsImFuaW1hdGVUZXh0IiwicGF1c2VkIiwic2xpZGVJbmRleCIsImR1cmF0aW9uIiwidHJhbnNpdGlvbiIsIkpTT04iLCJwYXJzZSIsImRhdGFzZXQiLCJza3JvbGwiLCJrZXkiLCJPYmplY3QiLCJrZXlzIiwic2xpZGVyQ29uc3RydWN0IiwiY2xhc3NMaXN0IiwiYWRkIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYXJyb3dDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXJyb3dMZWZ0IiwiYXJyb3dSaWdodCIsImFwcGVuZENoaWxkIiwicHJlcGVuZCIsImFycm93cyIsInN0eWxlIiwid2lkdGgiLCJzbGlkZUZyYWdtZW50Iiwic2xpZGUiLCJzbGlkZVdyYXAiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpbmRpY2F0b3JzIiwiaW5kaWNhdG9yc0NvbnRhaW5lciIsImluZGljYXRvciIsInNldEJpbmRpbmdzIiwiYXV0b1NsaWRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZTbGlkZUluZGV4IiwidGFyZ2V0IiwiY29udGFpbnMiLCJ1cGRhdGVJbmRleCIsImNsZWFyVGltZW91dHMiLCJzbGlkZXJDaGFuZ2UiLCJOdW1iZXIiLCJwcmV2IiwicGFyZW50RWxlbWVudCIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJ0cmFuc2Zvcm0iLCJpbnRlcnZhbFByZXZBbmltIiwiaW50ZXJ2YWxTbGlkZUNoYW5nZSIsImNsZWFyVGltZW91dCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsUUFBVUMsU0FBU0MsdUJBQXVCLGlCQUk5QyxJQUhBLElBQUlDLGlCQUdLQyxFQUFJLEVBQUdBLEVBQUlKLFFBQVFLLE9BQVFELElBQUssQ0FDdkMsSUFBSUUsR0FBS04sUUFBUUksR0FDYkcsSUFBTUQsR0FBR0UsU0FBU0gsT0FDbEJJLFlBQWNILEdBQUdJLGlCQUFpQixPQUNsQ0MsT0FBU0wsR0FBR0UsU0FDWkksUUFBVUMsTUFBTUMsS0FBS1IsR0FBR0ksaUJBQWlCLFFBQVFLLElBQUksU0FBVUMsRUFBR1osR0FDcEUsT0FBT1ksRUFBRUMsTUFFUEMsYUFDSixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSVIsT0FBT04sT0FBUWMsSUFDakNELFVBQVVDLEdBQUtSLE9BQU9RLEdBQUdULGlCQUFpQixjQUU1QyxLQUFPSixHQUFHYyxZQUNSZCxHQUFHZSxZQUFZZixHQUFHYyxZQUdwQmpCLGNBQWNDLElBQ1prQixPQUFRaEIsR0FDUmlCLElBQUtkLFlBQ0xTLFVBQVdBLFVBQ1hOLFFBQVNBLFFBQ1RZLFVBQ0VqQixJQUFLQSxJQUNMa0IsTUFBTSxFQUNOQyxhQUFhLEVBQ2JDLFFBQVEsRUFDUkMsV0FBWSxFQUNaQyxTQUFVLElBQ1ZDLFdBQVksUUFJaEIsSUFBSU4sU0FBV08sS0FBS0MsTUFBTTFCLEdBQUcyQixRQUFRQyxRQUVyQyxJQUFLLE1BQU1DLEtBQU9DLE9BQU9DLEtBQUtiLFVBQzVCckIsY0FBY0MsR0FBR29CLFNBQVNXLEdBQU9YLFNBQVNXLEdBRTVDRyxnQkFBZ0JuQyxjQUFjQyxJQUloQyxTQUFTa0MsZ0JBQWdCdEIsR0FHdkJBLEVBQUVNLE9BQU9pQixVQUFVQyxJQUFLeEIsRUFBRVEsU0FBU0MsS0FBTyxPQUFTLEtBQVFULEVBQUVRLFNBQVNFLFlBQWMsZUFBaUIsS0FBT1YsRUFBRVEsU0FBU00sWUFFdkgsSUFBSVcs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Q3NDLFlBQVlsRCxFQUFHVCxHQUNmNkQsYUFBYXBELElBQ1pBLEVBQUVRLFNBQVNLLFVBR2hCLFNBQVNzQyxjQUFjbkQsR0FDckI2RCxhQUFhN0QsRUFBRTRELHFCQUNmQyxhQUFhN0QsRUFBRTJELGtCQUNmLElBQUssSUFBSXZFLEVBQUksRUFBR0EsRUFBSVksRUFBRVEsU0FBU2pCLElBQUtILElBQ2xDWSxFQUFFTSxPQUFPaUIsVUFBVWtDLE9BQU8iLCJmaWxlIjoic2tyb2xsLXNsaWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBzbGlkZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2tyb2xsLXNsaWRlcicpXHJcbnZhciBzbGlkZXJPYmplY3RzID0gW11cclxuXHJcbi8vIENSRUFURSBTTElERVIgT0JKRUNUU1xyXG5mb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICB2YXIgZWwgPSBzbGlkZXJzW2ldXHJcbiAgdmFyIG51bSA9IGVsLmNoaWxkcmVuLmxlbmd0aFxyXG4gIHZhciBpbWdFbGVtZW50cyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpXHJcbiAgdmFyIHNsaWRlcyA9IGVsLmNoaWxkcmVuXHJcbiAgdmFyIGltZ1VybHMgPSBBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpKS5tYXAoZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgIHJldHVybiBlLnNyY1xyXG4gIH0pXHJcbiAgdmFyIHNsaWRlVGV4dCA9IHt9XHJcbiAgZm9yIChsZXQgbiA9IDA7IG4gPCBzbGlkZXMubGVuZ3RoOyBuKyspIHtcclxuICAgIHNsaWRlVGV4dFtuXSA9IHNsaWRlc1tuXS5xdWVyeVNlbGVjdG9yQWxsKCcqOm5vdChpbWcpJylcclxuICB9XHJcbiAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcclxuICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxuICAvLyBzZXQgZGVmYXVsdHNcclxuICBzbGlkZXJPYmplY3RzW2ldID0ge1xyXG4gICAgc2xpZGVyOiBlbCxcclxuICAgIGltZzogaW1nRWxlbWVudHMsXHJcbiAgICBzbGlkZVRleHQ6IHNsaWRlVGV4dCxcclxuICAgIGltZ1VybHM6IGltZ1VybHMsXHJcbiAgICBzZXR0aW5nczoge1xyXG4gICAgICBudW06IG51bSxcclxuICAgICAgem9vbTogdHJ1ZSxcclxuICAgICAgYW5pbWF0ZVRleHQ6IHRydWUsXHJcbiAgICAgIHBhdXNlZDogZmFsc2UsXHJcbiAgICAgIHNsaWRlSW5kZXg6IDAsXHJcbiAgICAgIGR1cmF0aW9uOiA1MDAwLFxyXG4gICAgICB0cmFuc2l0aW9uOiBcInBhblwiXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIGdldCBzZXR0aW5ncyBmcm9tIGRhdGEgYXR0cmlidXRlXHJcbiAgdmFyIHNldHRpbmdzID0gSlNPTi5wYXJzZShlbC5kYXRhc2V0LnNrcm9sbClcclxuICAvLyB1cGRhdGUgb2JqZWN0XHJcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2V0dGluZ3MpKSB7XHJcbiAgICBzbGlkZXJPYmplY3RzW2ldLnNldHRpbmdzW2tleV0gPSBzZXR0aW5nc1trZXldXHJcbiAgfVxyXG4gIHNsaWRlckNvbnN0cnVjdChzbGlkZXJPYmplY3RzW2ldKVxyXG59XHJcblxyXG4vLyBDT05TVFJVQ1QgRE9NIEVMRU1FTlRTXHJcbmZ1bmN0aW9uIHNsaWRlckNvbnN0cnVjdChlKSB7XHJcbiAgXHJcbiAgLy8gc2V0IGNvbnRhaW5lciBjbGFzc2VzXHJcbiAgZS5zbGlkZXIuY2xhc3NMaXN0LmFkZCgoZS5zZXR0aW5ncy56b29tID8gJ3pvb20nIDogbnVsbCksIChlLnNldHRpbmdzLmFuaW1hdGVUZXh0ID8gJ2FuaW1hdGUtdGV4dCcgOiBudWxsKSwgZS5zZXR0aW5ncy50cmFuc2l0aW9uKVxyXG4gIFxyXG4gIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgLy8gY3JlYXRlIGFycm93c1xyXG4gIHZhciBhcnJvd0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIilcclxuICBhcnJvd0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImFycm93c1wiKVxyXG4gIHZhciBhcnJvd0xlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpXHJcbiAgYXJyb3dMZWZ0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2xpZGUtYXJyb3cgbGVmdC1hcnJvd1wiKVxyXG4gIHZhciBhcnJvd1JpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKVxyXG4gIGFycm93UmlnaHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzbGlkZS1hcnJvdyByaWdodC1hcnJvd1wiKVxyXG4gIGFycm93Q29udGFpbmVyLmFwcGVuZENoaWxkKGFycm93TGVmdClcclxuICBhcnJvd0NvbnRhaW5lci5hcHBlbmRDaGlsZChhcnJvd1JpZ2h0KVxyXG4gIGZyYWdtZW50LnByZXBlbmQoYXJyb3dDb250YWluZXIpXHJcbiAgZS5hcnJvd3MgPSBbYXJyb3dMZWZ0LCBhcnJvd1JpZ2h0XVxyXG5cclxuICAvLyBjcmVhdGUgc2xpZGVzXHJcbiAgdmFyIHNsaWRlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgZS5zbGlkZXMgPSBzbGlkZXNcclxuICBzbGlkZXMuY2xhc3NMaXN0LmFkZChcInNsaWRlc1wiKVxyXG4gIGlmIChlLnNldHRpbmdzLnRyYW5zaXRpb249PT1cInBhblwiKSB7XHJcbiAgICBzbGlkZXMuc3R5bGUud2lkdGggPSBlLnNldHRpbmdzLm51bSArICcwMCUnXHJcbiAgfVxyXG4gIC8vIHNldCBjb250YWluZXIgd2lkdGhcclxuICBpZiAoZS5zZXR0aW5ncy50cmFuc2l0aW9uPT09XCJwYW5cIikge1xyXG4gICAgc2xpZGVzLnN0eWxlLndpZHRoID0gZS5zZXR0aW5ncy5udW0gKyAnMDAlJ1xyXG4gIH1cclxuXHJcbiAgdmFyIHNsaWRlRnJhZ21lbnQgPSB7fVxyXG4gIHNsaWRlRnJhZ21lbnQuc2xpZGUgPSBudWxsXHJcbiAgc2xpZGVGcmFnbWVudC5zbGlkZVdyYXAgPSBudWxsXHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZS5zZXR0aW5ncy5udW07IGkrKykge1xyXG4gICAgc2xpZGVGcmFnbWVudC5zbGlkZVdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpXHJcbiAgICBpZiAoaT09PTApIHtcclxuICAgICAgc2xpZGVGcmFnbWVudC5zbGlkZVdyYXAuY2xhc3NMaXN0LmFkZCgnc2xpZGUtd3JhcCcsICdjdXJyZW50LXNsaWRlJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNsaWRlRnJhZ21lbnQuc2xpZGVXcmFwLmNsYXNzTGlzdC5hZGQoJ3NsaWRlLXdyYXAnKVxyXG4gICAgfVxyXG4gICAgc2xpZGVGcmFnbWVudC5zbGlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIilcclxuICAgIHNsaWRlRnJhZ21lbnQuc2xpZGUuY2xhc3NMaXN0LmFkZChcInNsaWRlXCIpXHJcbiAgICBzbGlkZUZyYWdtZW50LnNsaWRlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgZS5pbWdVcmxzW2ldICsgXCIpXCJcclxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgT2JqZWN0LmtleXMoZS5zbGlkZVRleHRbaV0pLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgIHNsaWRlRnJhZ21lbnQuc2xpZGUuYXBwZW5kQ2hpbGQoZS5zbGlkZVRleHRbaV1bbl0pXHJcbiAgICB9XHJcbiAgICBzbGlkZUZyYWdtZW50LnNsaWRlV3JhcC5hcHBlbmRDaGlsZChzbGlkZUZyYWdtZW50LnNsaWRlKVxyXG4gICAgc2xpZGVzLmFwcGVuZENoaWxkKHNsaWRlRnJhZ21lbnQuc2xpZGVXcmFwKVxyXG4gIH1cclxuICBmcmFnbWVudC5hcHBlbmRDaGlsZChzbGlkZXMpXHJcblxyXG4gIC8vIGNyZWF0ZSBpbmRpY2F0b3IgZWxlbWVudHNcclxuICBlLmluZGljYXRvcnMgPSB7fVxyXG4gIHZhciBpbmRpY2F0b3JzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKVxyXG4gIGluZGljYXRvcnNDb250YWluZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJpbmRpY2F0b3JzXCIpXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnNldHRpbmdzLm51bTsgaSsrKSB7XHJcbiAgICB2YXIgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7XHJcbiAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICBpbmRpY2F0b3Iuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzbGlkZS1pbmRpY2F0b3IgY3VycmVudC1pbmRpY2F0b3JcIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNsaWRlLWluZGljYXRvclwiKVxyXG4gICAgfVxyXG4gICAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZShcImRhdGEtc2xpZGVcIiwgaSlcclxuICAgIGluZGljYXRvcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKVxyXG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yc0NvbnRhaW5lcilcclxuICAgIGUuaW5kaWNhdG9yc1tpXSA9IGluZGljYXRvclxyXG4gIH1cclxuXHJcbiAgZS5zbGlkZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpXHJcbiAgc2V0QmluZGluZ3MoZSlcclxuICBhdXRvU2xpZGUoc2xpZGVyT2JqZWN0c1tpXSlcclxuXHJcbn1cclxuXHJcbi8vIENSRUFURSBCSU5ESU5HUyBGT1IgQVJST1dTIEFORCBJTkRJQ0FUT1JTXHJcbmZ1bmN0aW9uIHNldEJpbmRpbmdzKGUpIHtcclxuXHJcbiAgLy8gYmluZCBhcnJvdyBjbGljayBmdW5jdGlvbnNcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGUuYXJyb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBlLmFycm93c1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICBlLnByZXZTbGlkZUluZGV4ID0gZS5zZXR0aW5ncy5zbGlkZUluZGV4XHJcbiAgICAgIGlmIChlbC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsZWZ0LWFycm93JykpIHtcclxuICAgICAgICB2YXIgbnVtID0gZS5zZXR0aW5ncy5zbGlkZUluZGV4IC0gMVxyXG4gICAgICB9IGVsc2UgaWYgKGVsLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3JpZ2h0LWFycm93JykpIHtcclxuICAgICAgICB2YXIgbnVtID0gZS5zZXR0aW5ncy5zbGlkZUluZGV4ICsgMVxyXG4gICAgICB9XHJcbiAgICAgIHVwZGF0ZUluZGV4KGUsIG51bSlcclxuICAgICAgY2xlYXJUaW1lb3V0cyhlKVxyXG4gICAgICBlLnNldHRpbmdzLnBhdXNlZCA9IHRydWVcclxuICAgICAgc2xpZGVyQ2hhbmdlKGUpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gYmluZCBpbmRpY2F0b3IgY2xpY2sgZnVuY3Rpb25zXHJcbiAgZm9yIChpID0gMDsgaSA8IGUuc2V0dGluZ3MubnVtOyBpKyspIHtcclxuICAgIGUuaW5kaWNhdG9yc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICBjbGVhclRpbWVvdXRzKGUpXHJcbiAgICAgIHVwZGF0ZUluZGV4KGUsIE51bWJlcihlbC50YXJnZXQuZGF0YXNldC5zbGlkZSkpXHJcbiAgICAgIGUuc2V0dGluZ3MucGF1c2VkID0gdHJ1ZVxyXG4gICAgICBpZiAoZWwudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY3VycmVudC1pbmRpY2F0b3InKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBzbGlkZXJDaGFuZ2UoZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNsaWRlckNoYW5nZShlKSB7XHJcbiAgZS5wcmV2ID0gZS5zbGlkZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VycmVudC1zbGlkZScpWzBdXHJcblxyXG4gIC8vIGNhbGN1bGF0ZSBzbGlkZSBpbmRleFxyXG4gIGlmIChlLnNldHRpbmdzLnNsaWRlSW5kZXggPCAwKSB7XHJcbiAgICBlLnNldHRpbmdzLnNsaWRlSW5kZXggPSBlLnNldHRpbmdzLm51bSAtIDFcclxuICAgIGlmIChlLnNldHRpbmdzLm51bSkge1xyXG4gICAgICBlLmluZGljYXRvcnNbMF0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0cmFuc2l0aW9uLWxhc3QnKVxyXG4gICAgfVxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChlLnNldHRpbmdzLm51bSkge1xyXG4gICAgICAgIGUuaW5kaWNhdG9yc1swXS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zaXRpb24tbGFzdCcpXHJcbiAgICAgIH1cclxuICAgIH0sIDEwMDApXHJcbiAgfSBlbHNlIGlmIChlLnNldHRpbmdzLnNsaWRlSW5kZXggPiBlLnNldHRpbmdzLm51bSAtIDEpIHtcclxuICAgIGUuc2V0dGluZ3Muc2xpZGVJbmRleCA9IDBcclxuICAgIGlmIChlLnNldHRpbmdzLm51bSkge1xyXG4gICAgICBlLmluZGljYXRvcnNbMF0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0cmFuc2l0aW9uLWZpcnN0JylcclxuICAgIH1cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoZS5zZXR0aW5ncy5udW0pIHtcclxuICAgICAgICBlLmluZGljYXRvcnNbMF0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2l0aW9uLWZpcnN0JylcclxuICAgICAgfVxyXG4gICAgfSwgMTAwMClcclxuICB9XHJcblxyXG4gIC8vIHNldCBjbGFzc2VzIGJhc2VkIG9uIHNsaWRlIGluZGV4XHJcbiAgaWYgKGUuc2V0dGluZ3MubnVtID4gMSkge1xyXG4gICAgLy8gcmVtb3ZlIGN1cnJlbnQgc3R5bGVzXHJcbiAgICBlLnNsaWRlci5jbGFzc0xpc3QucmVtb3ZlKCdmb3J3YXJkcycsICdiYWNrd2FyZHMnKVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLnNldHRpbmdzLm51bTsgaSsrKSB7XHJcbiAgICAgIGUuc2xpZGVzLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQtc2xpZGUnLCAncHJldi1zbGlkZScsICduZXh0LXNsaWRlJylcclxuICAgICAgaWYgKGUuc2V0dGluZ3MubnVtKSB7XHJcbiAgICAgICAgZS5pbmRpY2F0b3JzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQtaW5kaWNhdG9yJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gYWRkIGRpcmVjdGlvbiBjbGFzc1xyXG4gICAgaWYgKGUucHJldlNsaWRlSW5kZXggPCBlLnNldHRpbmdzLnNsaWRlSW5kZXgpIHtcclxuICAgICAgZS5zbGlkZXIuY2xhc3NMaXN0LmFkZCgnZm9yd2FyZHMnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZS5zbGlkZXIuY2xhc3NMaXN0LmFkZCgnYmFja3dhcmRzJylcclxuICAgIH1cclxuXHJcbiAgICBlLnNsaWRlci5jbGFzc0xpc3QuYWRkKCdhbmltYXRpbmcnKVxyXG5cclxuICAgIC8vIGFkZCBwcmV2aW91cyBzbGlkZVxyXG4gICAgZS5wcmV2LmNsYXNzTGlzdC5hZGQoJ3ByZXYtc2xpZGUnKVxyXG5cclxuICAgIGlmIChlLnNldHRpbmdzLnNsaWRlSW5kZXggPT09IGUuc2V0dGluZ3MubnVtIC0gMSkge1xyXG4gICAgICBlLnNsaWRlcy5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCduZXh0LXNsaWRlJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChlLnNsaWRlcy5jaGlsZHJlbltlLnNldHRpbmdzLnNsaWRlSW5kZXggKyAxXSkge1xyXG4gICAgICAgIGUuc2xpZGVzLmNoaWxkcmVuW2Uuc2V0dGluZ3Muc2xpZGVJbmRleCArIDFdLmNsYXNzTGlzdC5hZGQoJ25leHQtc2xpZGUnKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZS5zbGlkZXMuY2hpbGRyZW5bZS5zZXR0aW5ncy5zbGlkZUluZGV4XS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LXNsaWRlJylcclxuICAgIGlmIChlLnNldHRpbmdzLm51bSkge1xyXG4gICAgICBlLmluZGljYXRvcnNbZS5zZXR0aW5ncy5zbGlkZUluZGV4XS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LWluZGljYXRvcicpXHJcbiAgICB9XHJcbiAgICBpZiAoZS5zZXR0aW5ncy50cmFuc2l0aW9uID09PSBcInBhblwiKSB7XHJcbiAgICAgIGUuc2xpZGVyLmNoaWxkcmVuWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nICsgZS5zZXR0aW5ncy5zbGlkZUluZGV4IC8gZS5zZXR0aW5ncy5udW0gKiAxMDAgKyAnMDAlKSdcclxuICAgIH1cclxuXHJcbiAgICBlLmludGVydmFsUHJldkFuaW0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgZS5zbGlkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW5nJylcclxuICAgIH0sIDE1MDApXHJcbiAgICBpZiAoZS5zZXR0aW5ncy5wYXVzZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgIGF1dG9TbGlkZShlKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlSW5kZXgoZSwgbikge1xyXG4gIGUucHJldlNsaWRlSW5kZXggPSBlLnNldHRpbmdzLnNsaWRlSW5kZXhcclxuICBlLnNldHRpbmdzLnNsaWRlSW5kZXggPSBuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGF1dG9TbGlkZShlKSB7XHJcbiAgZS5pbnRlcnZhbFNsaWRlQ2hhbmdlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbnVtID0gZS5zZXR0aW5ncy5zbGlkZUluZGV4ICsgMVxyXG4gICAgdXBkYXRlSW5kZXgoZSwgbnVtKVxyXG4gICAgc2xpZGVyQ2hhbmdlKGUpXHJcbiAgfSwgZS5zZXR0aW5ncy5kdXJhdGlvbilcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJUaW1lb3V0cyhlKSB7XHJcbiAgY2xlYXJUaW1lb3V0KGUuaW50ZXJ2YWxTbGlkZUNoYW5nZSlcclxuICBjbGVhclRpbWVvdXQoZS5pbnRlcnZhbFByZXZBbmltKVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZS5zZXR0aW5ncy5udW07IGkrKykge1xyXG4gICAgZS5zbGlkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW5nJylcclxuICB9XHJcbn0iXX0=
