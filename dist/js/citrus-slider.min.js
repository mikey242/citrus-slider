"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var getSliders=function(){var t=[],e=function t(e){_classCallCheck(this,t),this.sliderContainer=e,this.slideText=function(t){for(var e={},s=0;s<t.length;s++)e[s]=t[s];return e}(e.children),this.num=e.children.length,this.imgUrls=function(t){var e=Array.from(t.children).map(function(t){return t.getElementsByTagName("img")[0].src}),s=t.getElementsByTagName("img");for(;s[0];)s[0].remove();return e}(e),this.settings={animateText:!0,animationDuration:.8,autoHeight:!1,autoPause:!0,effect:!0,effectType:"zoom",height:"100%",paused:!1,showArrows:!0,showIndicators:!0,slideDuration:5e3,slideIndex:0,slideTransition:"pan",width:"100%"}};e.prototype.goToSlide=function(t){this.settings.slideIndex=t,a(this)},e.prototype.stop=function(){this.settings.paused=!0,clearTimeout(this.intervalSlideChange)},e.prototype.play=function(){this.settings.paused=!1,d(this)},e.prototype.prevSlide=function(){this.settings.slideIndex--,a(this)},e.prototype.nextSlide=function(){this.settings.slideIndex++,a(this)},e.prototype.reset=function(){r(this),d(this)};for(var s=document.getElementsByClassName("citrus-slider"),i=0;i<s.length;i++){t[i]=new e(s[i]);var n=t[i];l(n,r),d(n)}function r(t){var e=t.settings.height;!0===t.settings.autoHeight&&(e=function(t){for(var e=0,s=0;s<t.num;s++){var i=t.slideText[s].offsetHeight;e<i&&(e=i)}return(e+=250)+"px"}(t)),t.sliderContainer.setAttribute("style","width:"+t.settings.width+"; height:"+e),t.sliderContainer.setAttribute("class","citrus-slider"),t.sliderContainer.classList.add("transition-"+t.settings.slideTransition),t.settings.effect&&t.sliderContainer.classList.add("effect-"+t.settings.effectType),t.settings.animateText&&t.sliderContainer.classList.add("animate-text"),function(t){var e=document.createDocumentFragment(),s=document.createElement("DIV");0==t.settings.showArrows?s.setAttribute("class","citrus-arrows hidden"):s.setAttribute("class","citrus-arrows");var i=document.createElement("DIV");i.setAttribute("class","slide-arrow left-arrow");var n=document.createElement("DIV");n.setAttribute("class","slide-arrow right-arrow"),s.appendChild(i),s.appendChild(n),e.appendChild(s),t.arrows=[i,n];var r=document.createElement("DIV");t.slides=r,r.classList.add("citrus-slides"),"pan"===t.settings.slideTransition&&(r.style.width=t.num+"00%");"pan"===t.settings.slideTransition&&(r.style.width=t.num+"00%",r.style.transform="translateX(-"+t.settings.slideIndex/t.num*100+"%)");for(var d={slide:null,slideWrap:null},l=0;l<t.num;l++)d.slideWrap=document.createElement("DIV"),d.slideWrap.setAttribute("style","animation-duration:"+t.settings.animationDuration+"s"),l===t.settings.slideIndex?d.slideWrap.setAttribute("class","slide-wrap current-slide"):d.slideWrap.setAttribute("class","slide-wrap"),d.slide=document.createElement("DIV"),d.slide.setAttribute("class","slide"),d.slideText=t.slideText[l],d.slideText.setAttribute("class","slide-text"),d.slide.style.backgroundImage="url("+t.imgUrls[l]+")",d.slideWrap.appendChild(d.slide),d.slideWrap.appendChild(d.slideText),r.appendChild(d.slideWrap);e.appendChild(r),t.indicators={};var o=document.createElement("DIV");0==t.settings.showIndicators?o.setAttribute("class","citrus-indicators hidden"):o.setAttribute("class","citrus-indicators");for(var c=0;c<t.num;c++){var u=document.createElement("SPAN");c===t.settings.slideIndex?u.setAttribute("class","slide-indicator current-indicator"):u.setAttribute("class","slide-indicator"),u.setAttribute("data-slide",c),o.appendChild(u),e.appendChild(o),t.indicators[c]=u}t.sliderContainer.innerHTML="",t.sliderContainer.appendChild(e),function(t){for(var e=0;e<t.arrows.length;e++)t.arrows[e].addEventListener("click",function(e){t.settings.autoPause&&(t.settings.paused=!0),t.sliderContainer.classList.contains("animating")||(t.settings.prevIndex=t.settings.slideIndex,e.target.classList.contains("left-arrow")?t.settings.slideIndex--:e.target.classList.contains("right-arrow")&&t.settings.slideIndex++,a(t))});for(var s=0;s<t.num;s++)t.indicators[s].addEventListener("click",function(e){t.settings.autoPause&&(t.settings.paused=!0),t.sliderContainer.classList.contains("animating")||!1===e.target.classList.contains("current-indicator")&&(t.settings.prevIndex=t.settings.slideIndex,t.settings.slideIndex=Number(e.target.dataset.slide),a(t))})}(t)}(t)}function a(t){if(clearTimeout(t.intervalSlideChange),t.prev=t.sliderContainer.getElementsByClassName("current-slide")[0],t.settings.slideIndex<0?(t.settings.slideIndex=t.num-1,t.num&&(t.indicators[0].parentElement.classList.add("transition-last"),setTimeout(function(){t.indicators[0].parentElement.classList.remove("transition-last")},1e3))):t.settings.slideIndex>t.num-1&&(t.settings.slideIndex=0,t.num&&(t.indicators[0].parentElement.classList.add("transition-first"),setTimeout(function(){t.indicators[0].parentElement.classList.remove("transition-first")},1e3))),t.num>1){t.sliderContainer.classList.remove("forwards","backwards");for(var e=0;e<t.num;e++)t.slides.children[e].classList.remove("current-slide","prev-slide","next-slide"),t.num&&t.indicators[e].classList.remove("current-indicator");t.settings.prevIndex<t.settings.slideIndex?t.sliderContainer.classList.add("forwards"):t.sliderContainer.classList.add("backwards"),t.prev.classList.add("prev-slide"),t.settings.slideIndex===t.num-1?t.slides.children[0].classList.add("next-slide"):t.slides.children[t.settings.slideIndex+1]&&t.slides.children[t.settings.slideIndex+1].classList.add("next-slide"),t.slides.children[t.settings.slideIndex].classList.add("current-slide"),t.num&&t.indicators[t.settings.slideIndex].classList.add("current-indicator"),"pan"===t.settings.slideTransition&&(t.sliderContainer.children[1].style.transform="translateX(-"+t.settings.slideIndex/t.num*100+"%)"),t.sliderContainer.classList.add("animating"),t.intervalPrevAnim=setTimeout(function(){t.sliderContainer.classList.remove("animating")},1e3*t.settings.animationDuration),d(t)}}function d(t){!1===t.settings.paused&&(t.intervalSlideChange=setTimeout(function(){t.settings.prevIndex=t.settings.slideIndex,t.settings.slideIndex++,a(t)},t.settings.slideDuration))}function l(t,e){if(t.sliderContainer.hasAttribute("data-citrus")){var s=JSON.parse(t.sliderContainer.dataset.citrus),i=!0,n=!1,r=void 0;try{for(var a,d=Object.keys(s)[Symbol.iterator]();!(i=(a=d.next()).done);i=!0){var l=a.value;t.settings[l]=s[l]}}catch(t){n=!0,r=t}finally{try{!i&&d.return&&d.return()}finally{if(n)throw r}}t.sliderContainer.removeAttribute("data-citrus"),t.settings.slideIndex>t.num||t.settings.slideIndex<=0?t.settings.slideIndex=0:t.settings.slideIndex--}"function"==typeof e&&e(t)}return t}();