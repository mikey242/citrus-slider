"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var citrus=function(){var t=[],e=function t(e){_classCallCheck(this,t),this.sliderContainer=e,this.slideText=function(t){for(var e={},s=0;s<t.length;s++)e[s]=t[s];return e}(e.children),this.num=e.children.length,this.imgUrls=function(t){var e=Array.from(t.children).map(function(t){return t.getElementsByTagName("img")[0].src}),s=t.getElementsByTagName("img");for(;s[0];)s[0].remove();return e}(e),this.settings={animateText:!0,animationDuration:.8,autoHeight:!1,autoPause:!0,effect:!0,effectType:"zoom",height:"100%",paused:!1,showArrows:!0,showIndicators:!0,slideDuration:5e3,slideIndex:0,slideTransition:"pan",width:"100%"}};e.prototype.goToSlide=function(t){this.settings.slideIndex=t,n(this)},e.prototype.stop=function(){this.settings.paused=!0,clearTimeout(this.intervalSlideChange)},e.prototype.play=function(){this.settings.paused=!1,r(this)},e.prototype.prevSlide=function(){this.settings.slideIndex--,n(this)},e.prototype.nextSlide=function(){this.settings.slideIndex++,n(this)},e.prototype.reset=function(){clearTimeout(this.intervalSlideChange),i(this),r(this)};var s=Array.from(document.getElementsByClassName("citrus-slider"));function i(t){var e=t.settings.height;!0===t.settings.autoHeight&&(e=function(t){for(var e=0,s=0;s<t.num;s++){var i=t.slideText[s].offsetHeight;e<i&&(e=i)}return(e+=250)+"px"}(t)),t.sliderContainer.setAttribute("style","width:"+t.settings.width+"; height:"+e),t.sliderContainer.setAttribute("class","citrus-slider"),t.sliderContainer.classList.add("transition-"+t.settings.slideTransition),t.settings.effect&&t.sliderContainer.classList.add("effect-"+t.settings.effectType),t.settings.animateText&&t.sliderContainer.classList.add("animate-text"),function(t){var e=document.createDocumentFragment(),s=document.createElement("DIV");0==t.settings.showArrows?s.setAttribute("class","citrus-arrows hidden"):s.setAttribute("class","citrus-arrows");var i=document.createElement("DIV");i.setAttribute("class","slide-arrow left-arrow");var r=document.createElement("DIV");r.setAttribute("class","slide-arrow right-arrow"),s.appendChild(i),s.appendChild(r),e.appendChild(s),t.arrows=[i,r];var a=document.createElement("DIV");t.slides=a,a.setAttribute("class","citrus-slides"),"pan"===t.settings.slideTransition&&(a.style.width=t.num+"00%");"pan"===t.settings.slideTransition&&(a.style.width=t.num+"00%",a.style.transform="translateX(-"+t.settings.slideIndex/t.num*100+"%)");for(var d=0;d<t.num;d++){var l=document.createElement("DIV");l.setAttribute("style","animation-duration:"+t.settings.animationDuration+"s"),d===t.settings.slideIndex?l.setAttribute("class","slide-wrap current-slide"):l.setAttribute("class","slide-wrap");var o=document.createElement("DIV");o.setAttribute("class","slide");var c=t.slideText[d];c.setAttribute("class","slide-text"),o.style.backgroundImage="url("+t.imgUrls[d]+")",l.appendChild(o),l.appendChild(c),a.appendChild(l)}e.appendChild(a),t.indicators=[];var u=document.createElement("DIV");0==t.settings.showIndicators?u.setAttribute("class","citrus-indicators hidden"):u.setAttribute("class","citrus-indicators");for(var g=0;g<t.num;g++){var m=document.createElement("SPAN");g===t.settings.slideIndex?m.setAttribute("class","slide-indicator current-indicator"):m.setAttribute("class","slide-indicator"),m.setAttribute("data-slide",g),u.appendChild(m),e.appendChild(u),t.indicators[g]=m}t.sliderContainer.innerHTML="",t.sliderContainer.appendChild(e),function(t){var e=!0,s=!1,i=void 0;try{for(var r,a=t.arrows[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var d=r.value;d.addEventListener("click",function(e){t.settings.autoPause&&(t.settings.paused=!0),t.sliderContainer.classList.contains("animating")||(t.settings.prevIndex=t.settings.slideIndex,e.target.classList.contains("left-arrow")?t.settings.slideIndex--:e.target.classList.contains("right-arrow")&&t.settings.slideIndex++,n(t))})}}catch(t){s=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw i}}var l=!0,o=!1,c=void 0;try{for(var u,g=t.indicators[Symbol.iterator]();!(l=(u=g.next()).done);l=!0){var m=u.value;m.addEventListener("click",function(e){t.settings.autoPause&&(t.settings.paused=!0),t.sliderContainer.classList.contains("animating")||!1===e.target.classList.contains("current-indicator")&&(t.settings.prevIndex=t.settings.slideIndex,t.settings.slideIndex=Number(e.target.dataset.slide),n(t))})}}catch(t){o=!0,c=t}finally{try{!l&&g.return&&g.return()}finally{if(o)throw c}}}(t)}(t)}function n(t){if(clearTimeout(t.intervalSlideChange),t.prev=t.sliderContainer.getElementsByClassName("current-slide")[0],t.settings.slideIndex<0?(t.settings.slideIndex=t.num-1,t.num&&(t.indicators[0].parentElement.classList.add("transition-last"),setTimeout(function(){t.indicators[0].parentElement.classList.remove("transition-last")},1e3))):t.settings.slideIndex>t.num-1&&(t.settings.slideIndex=0,t.num&&(t.indicators[0].parentElement.classList.add("transition-first"),setTimeout(function(){t.indicators[0].parentElement.classList.remove("transition-first")},1e3))),t.num>1){t.sliderContainer.classList.remove("forwards","backwards");for(var e=0;e<t.num;e++)t.slides.children[e].classList.remove("current-slide","prev-slide","next-slide"),t.num&&t.indicators[e].classList.remove("current-indicator");t.settings.prevIndex<t.settings.slideIndex?t.sliderContainer.classList.add("forwards"):t.sliderContainer.classList.add("backwards"),t.prev.classList.add("prev-slide"),t.settings.slideIndex===t.num-1?t.slides.children[0].classList.add("next-slide"):t.slides.children[t.settings.slideIndex+1]&&t.slides.children[t.settings.slideIndex+1].classList.add("next-slide"),t.slides.children[t.settings.slideIndex].classList.add("current-slide"),t.num&&t.indicators[t.settings.slideIndex].classList.add("current-indicator"),"pan"===t.settings.slideTransition&&(t.sliderContainer.children[1].style.transform="translateX(-"+t.settings.slideIndex/t.num*100+"%)"),t.sliderContainer.classList.add("animating"),t.intervalPrevAnim=setTimeout(function(){t.sliderContainer.classList.remove("animating")},1e3*t.settings.animationDuration),r(t)}}function r(t){!1===t.settings.paused&&(t.intervalSlideChange=setTimeout(function(){t.settings.prevIndex=t.settings.slideIndex,t.settings.slideIndex++,n(t)},t.settings.slideDuration))}return s.forEach(function(n,a){t[a]=new e(s[a]);var d=t[a];!function(t,e){if(t.sliderContainer.hasAttribute("data-citrus")){var s=JSON.parse(t.sliderContainer.dataset.citrus),i=!0,n=!1,r=void 0;try{for(var a,d=Object.keys(s)[Symbol.iterator]();!(i=(a=d.next()).done);i=!0){var l=a.value;t.settings[l]=s[l]}}catch(t){n=!0,r=t}finally{try{!i&&d.return&&d.return()}finally{if(n)throw r}}t.sliderContainer.removeAttribute("data-citrus"),t.settings.slideIndex>t.num||t.settings.slideIndex<=0?t.settings.slideIndex=0:t.settings.slideIndex--}"function"==typeof e&&e(t)}(d,i),r(d)}),t}();